---
layout: default
title: Aktuality
permalink: /aktuality/strana/:num/
---

<style>
  .pagination-wrapper {
    margin: 2rem 0;
    text-align: center;
  }
  
  .pagination {
    display: inline-flex;
    gap: 0.5rem;
    list-style: none;
    margin: 0;
    padding: 0;
    align-items: center;
  }
  
  .pagination a,
  .pagination span {
    display: block;
    padding: 8px 12px;
    background: #f5f5f5;
    color: #333;
    text-decoration: none;
    border-radius: 4px;
    font-size: 14px;
    transition: all 0.2s ease;
  }
  
  .pagination a:hover {
    background: #007cba;
    color: white;
  }
  
  .pagination .current {
    background: #000;
    color: white;
    font-weight: bold;
  }
  
  .pagination .disabled {
    background: #e0e0e0;
    color: #999;
    cursor: not-allowed;
  }
  
  .pagination-info {
    margin: 1rem 0;
    color: #666;
    font-size: 14px;
  }
</style>

<div class="md-section">
  <div class="md-section__header">
    <h1 class="md-section__title">Aktuality</h1>
    <p class="md-section__subtitle">Všechny naše aktuality a zprávy z Brandýsa nad Labem</p>
  </div>
  
  <div class="md-articles-list">
    <!-- Filtrujeme posty pro paginaci -->
    {% assign aktuality_posts = site.posts | where_exp: "post", "post.category != 'mistostarosti'" | where_exp: "post", "post.path contains '_posts/proposals/' != true" %}
    
    <!-- Paginace - zobrazíme jen posty pro aktuální stránku -->
    {% assign posts_per_page = 12 %}
    {% assign current_page = page.url | split: "/" %}
    {% assign current_page = current_page[-2] | plus: 0 %}
    {% if current_page == 0 %}
      {% assign current_page = 1 %}
    {% endif %}
    
    {% assign offset = current_page | minus: 1 | times: posts_per_page %}
    {% assign end_index = offset | plus: posts_per_page %}
    
    {% for post in aktuality_posts offset: offset limit: posts_per_page %}
    <article class="md-article-item">
      <div class="md-article-item__content">
        <h2 class="md-article-item__title">
          <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
        </h2>
        
        <div class="md-article-item__meta">
          <span class="md-article-item__date">
            📅 {{ post.date | date: "%d.%m.%Y" }}
          </span>
          {% if post.author %}
          <span class="md-article-item__author">
            👤 {{ post.author }}
          </span>
          {% endif %}
        </div>
        
        <div class="md-article-item__excerpt">
          {{ post.excerpt | strip_html | truncatewords: 30 }}
        </div>
        
        <div class="md-article-item__actions">
          <a href="{{ post.url | relative_url }}" class="md-link">Číst celý článek →</a>
        </div>
      </div>
    </article>
    {% endfor %}
  </div>
  
  <!-- Paginace -->
  {% assign total_posts = aktuality_posts | size %}
  {% assign total_pages = total_posts | divided_by: posts_per_page | plus: 1 %}
  {% assign remainder = total_posts | modulo: posts_per_page %}
  {% if remainder == 0 and total_posts > 0 %}
    {% assign total_pages = total_pages | minus: 1 %}
  {% endif %}
  
  {% if total_pages > 1 %}
  <div class="pagination-wrapper">
    <div class="pagination-info">
      Zobrazeno {{ offset | plus: 1 }}-{{ end_index | at_most: total_posts }} z {{ total_posts }} aktualit
    </div>
    
    <ul class="pagination">
      <!-- Předchozí stránka -->
      {% if current_page > 1 %}
        {% if current_page == 2 %}
          <li><a href="/aktuality/">« Předchozí</a></li>
        {% else %}
          {% assign prev_page = current_page | minus: 1 %}
          <li><a href="/aktuality/strana/{{ prev_page }}/">« Předchozí</a></li>
        {% endif %}
      {% else %}
        <li><span class="disabled">« Předchozí</span></li>
      {% endif %}
      
      <!-- Čísla stránek -->
      {% for page_num in (1..total_pages) %}
        {% if page_num == current_page %}
          <li><span class="current">{{ page_num }}</span></li>
        {% elsif page_num == 1 %}
          <li><a href="/aktuality/">{{ page_num }}</a></li>
        {% else %}
          <li><a href="/aktuality/strana/{{ page_num }}/">{{ page_num }}</a></li>
        {% endif %}
      {% endfor %}
      
      <!-- Následující stránka -->
      {% if current_page < total_pages %}
        {% assign next_page = current_page | plus: 1 %}
        <li><a href="/aktuality/strana/{{ next_page }}/">Následující »</a></li>
      {% else %}
        <li><span class="disabled">Následující »</span></li>
      {% endif %}
    </ul>
  </div>
  {% endif %}
</div>